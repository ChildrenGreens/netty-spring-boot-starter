= Configuration Reference
:page-pagination:

This page documents all available configuration options for Netty Spring Boot Starter.

== Enable/Disable Configuration

[cols="2,1,3"]
|===
|Property |Default |Description

|`spring.netty.enabled`
|`true`
|Enable/disable all Netty functionality

|`spring.netty.server.enabled`
|`true`
|Enable/disable server components only

|`spring.netty.client.enabled`
|`true`
|Enable/disable client components only
|===

== Defaults Configuration

[source,yaml]
----
spring:
  netty:
    defaults:
      threads:
        boss: 1
        worker: 0              # 0 = CPU cores * 2
      transport:
        prefer: AUTO           # AUTO/NIO/EPOLL/KQUEUE
      shutdown:
        graceful: true
        quietPeriodMs: 200
        timeoutMs: 3000
----

== Server Configuration

[source,yaml]
----
spring:
  netty:
    servers:
      - name: tcp-server           # Required: unique server name
        transport: TCP             # TCP/HTTP/UDP
        host: 0.0.0.0              # Bind address
        port: 9000                 # Bind port
        profile: tcp-lengthfield-json  # Protocol profile
        routing:
          mode: MESSAGE_TYPE       # MESSAGE_TYPE/PATH/WS_PATH
        features:                  # Optional features
          idle:
            enabled: true
            readSeconds: 60
            writeSeconds: 30
          logging:
            enabled: true
            level: DEBUG
          ssl:
            enabled: false
            certPath: /path/to/cert.pem
            keyPath: /path/to/key.pem
          rateLimit:
            enabled: false
            requestsPerSecond: 100
            burstSize: 150
          connectionLimit:
            enabled: false
            maxConnections: 10000
----

== Client Configuration

[source,yaml]
----
spring:
  netty:
    clients:
      - name: order-service        # Required: unique client name
        host: 127.0.0.1            # Server host
        port: 9000                 # Server port
        profile: tcp-lengthfield-json  # Protocol profile
        pool:
          maxConnections: 10
          minIdle: 2
          maxIdleMs: 60000
          acquireTimeoutMs: 5000
        reconnect:
          enabled: true
          initialDelayMs: 1000
          maxDelayMs: 30000
          multiplier: 2.0
          maxRetries: -1           # -1 = infinite
        heartbeat:
          enabled: true
          intervalMs: 30000
          timeoutMs: 5000
          message: '{"type":"heartbeat"}'
        timeout:
          connectMs: 5000
          requestMs: 10000
----

== Observability Configuration

[source,yaml]
----
spring:
  netty:
    observability:
      metrics: true                # Enable Micrometer metrics
      health: true                 # Enable health check endpoint
----

== Full Example

[source,yaml]
----
spring:
  netty:
    enabled: true

    defaults:
      threads:
        boss: 1
        worker: 0
      transport:
        prefer: AUTO
      shutdown:
        graceful: true
        quietPeriodMs: 200
        timeoutMs: 3000

    servers:
      - name: tcp-server
        transport: TCP
        host: 0.0.0.0
        port: 9000
        profile: tcp-lengthfield-json
        routing:
          mode: MESSAGE_TYPE
        features:
          idle:
            enabled: true
            readSeconds: 60

      - name: http-server
        transport: HTTP
        port: 8080
        profile: http1-json
        routing:
          mode: PATH

      - name: ws-server
        transport: HTTP
        port: 8081
        profile: websocket
        routing:
          mode: WS_PATH

    clients:
      - name: order-service
        host: 127.0.0.1
        port: 9000
        profile: tcp-lengthfield-json
        pool:
          maxConnections: 10
        reconnect:
          enabled: true
        heartbeat:
          enabled: true
          intervalMs: 30000

    observability:
      metrics: true
      health: true
----
